<h2 class="text-center fw-bold mb-4">Explore Products</h2>

<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
  <% @products.each do |product| %>
    <div class="col">
      <div class="card border-0 h-100 shadow-sm product-card">

        <div class="position-relative">
          <% if product.image.attached? %>
            <%= image_tag product.image, class: "card-img-top", alt: product.name %>
          <% else %>
            <img src="https://via.placeholder.com/300x200?text=No+Image" class="card-img-top" alt="No image">
          <% end %>
          <span class="badge bg-success position-absolute top-0 start-0 m-2">â‚¹ <%= product.price %></span>
        </div>

        <div class="card-body d-flex flex-column justify-content-between">
          <h5 class="card-title text-truncate"><%= product.name.upcase %></h5>

          <% if product.description.present? %>
            <p class="card-text small text-muted text-truncate"><%= truncate(product.description, length: 70) %></p>
          <% end %>

          <div class="mt-auto">
            <%= button_to 'Add to Cart', add_carts_path(product), method: :post, class: "btn btn-warning w-100" %>
          </div>

        </div>

      </div>
    </div>
  <% end %>
</div>
